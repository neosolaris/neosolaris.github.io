---
title: QnA
date : 2022-08-23T18:35:04+09:00
lastmod: 2022-12-15T15:19:28+09:00
tags: ["qna"]
categories: ["qna"]
---

## vis
* [X] 간단한 루아스크립트를 어떻게 vis내에서 동작하게 하는가?
  - 아직은 잘 모르겠으나 nvim처럼 초기화 파일에서 require하는 방식이다.
  - luajit이 아닌 lua 3.x 버전의 API를 제공한다. 튜토리얼이나 example이 없다.

## vim / nvim
* [ ] lsp - lua language server 의 3GB 넘는 메모리 사용과 CPU 오버로드는?
  - workspace를 한정하면 된다고 하는데 1GB로 줄었으나 노트북이 계속 헉헉댄다. nvim에서 lua로 코딩하는 이유가 심플하고 빠르고 적은 메모리 사용이 장점인데 개발 환경은 너무 지나치다. 
  - 최신 버전으로 업데이트 했으나 조금 나아졌을 뿐 여전하다.
* [X] nvim을 /usr/local에 빌드하고 기존 패키지를 지웠고 PATH도 잡았는데 실행이 안된다.
  - `$ which nvim` 경로가 `/usr/local/bin/nvim`으로 나온다.
  - `$ /usr/local/bin/nvim --verion` 하면 실행도 잘 된다.
  - `$ nvim` 하면 `/usr/bin/nvim`이 없다고 나온다.
  - 재부팅해서 다시 로그인하면 해결된다.
  - 옛날 Solaris에서는 이런 문제가 없었는데...
* [X] 사용 중 80컬럼 이상 작성하면 자동으로 개행이 되는 문제
  - `~/.config/nvim/init.lua`에 다음 설정 `vim.wo.wrap = true`
* [X] 자동완성 기능에서 엔터가 아니라 탭으로 완성하려면
  - nvim-cmp 설정에서 mapping에 `["<Tab>"]`과 `["<S+Tab>"]`을 설정
  - 자세한 사항은 [nvim cmp](nvim-cmp) 자동완성 문서를 참조하거나 settings.lua참조
* [X] nvim에서 lua 플러그인과 설정 중 쏟아지는 에러는 어찌해야 하는가?
  - 하나씩 공부해서 적용하고 테스트한다. 한 번에 많은 설정을 적용하지 않는다.
  - 에러 메시지를 잘 읽어 보고 구글링 또는 해당 github의 issue 등을 참고한다.
  - nvim 버전과 플러그인 버전이 맞지 않는 경우가 많다. nvim을 최신버전으로 설치 또는 빌드하고 플러그인도 최신버전으로 업데이트 해주면 대부분 해결된다. 이것을 몰라 정말 개고생..
* [X] vim에서는 vimwiki 파일을 편집하며 넘나들어도 자동 저장이 되었는데 nvim에서는 동작하지 않았다. 왜?
  - vim에서 nvim으로 옮긴 후 vimwiki사용 시 이것이 많이 불편했다.
  - 수 많은 사이트를 조사하고 알아 보았지만 똑같은 설정에도 불구하고 안됨.
  - 해결: nvim을 최신 버전으로 업데이트하고 다음 설정을 해 주었다.
  - md 파일을 편집하고 버퍼를 나갈 때 이를 자동으로 저장한다.
  - `init.lua`: `vim.api.nvim_create_autocmd("BufLeave", {pattern = "*.md", command = "silent! wall"})`
  - 만약에 내가 글을 쓰는 데 문장이 길어질 때가 있다. 그러나 내가 원하는 것은 화면 끝에 오면 자동으로 라인이 내려가는 것이다.
  - 하지만 자동 줄바꿈이 되는 것을 원하는 것은 아니다.

## Linux 일반
* [ ] 우분투에서 default shell을 [zsh](zsh)로 바꾼 후 한글입력(kime)이 작동하지 않는다.
* [X] 리눅스에서 폴더를 구조적 계층적으로 볼 수 있는 방법은?
	- [tree](tree) 명령어를 사용하면 된다.
  - `ls -R`도 어느정도 가능

## github
* [X] 잘 되던 github.io의 내 블로그가 갑자기 정상적으로 보여지지 않는가?
  - 페이지 업데이트는 잘 이루어지나 검색이나 스타일, 폰트 등이 모두 엉망
  - 무수한 삽질 끝에 vimwiki도 hugo도 git 명령어도 github.io도 문제가 없었다.
  - 원인은 내가 사용하던 브라우저에서 Adblocker가 내 주소만 적용되었다. 왜?
  - 단축키를 잘 못 눌렀거나 Adblocker의 오작동인 듯.
  - 스마트폰으로 혹시나 해서 접속하니 잘 되었다.
  - 그렇게 머리카락이 몇 개 더 빠졌고 내 수명이 단축되었다.

* [X] github.io에 index.md, index.html 중 누가 우선하는가.
	- index.md와 index.html 모두 존재할 경우 index.html이 우선한다.
* [X] github.io에서 한 폴더에 책을 만든다면 링크는 잘 연결되는가.
  - 계층적 구조를 만들면 조금 복잡해지지만 같은 폴더 내에서의 링크는 잘 된다.
* [X] github.io에서 그리고 TOC는 어떻게 만드는가.
	- [github toc](github-toc)에 정리해 둠.
* [X] 내 git 프로젝트 내에 또 다른 깃허브 프로젝트가 있을 때 충돌 현상은?
  - 여러 가지 방법이 검색하면 나오는데 내 경우는 `.gitignore`로 해결
  - 상위 프로젝트의 `.gitignore`에 하위 프로젝트의 `.git`폴더를 등록하면 된다.
  - 이렇게 해서 상위 통합 프로젝트는 통째로 깃허브에 올라가고 하위 프로젝트는 따로 깃허브에 올리는 식으로 해결했다.
  - 예를 들어 github.io 웹페이지는 하위 공개 프로젝트로하고, 웹페이지 개발 및 생성 프로젝트는 상위 프로젝트로 만들어서 통합 관리하는 것이 좋다고 생각했기 때문이다.

## vimwiki
* [X] nvim 업데이트 후 설정은 그대로인데 리스트 만들기인 `<Control-Space>`가 잘안된다.
  - 해결: `nmap('<C-l>', ':VimwikiToggleListItem<CR>')`로 재정의하여 해결, 그러나 space가 왜 안 먹는지는 지금도 모른다.
* [X] 이 위키가 많아지면 검색을 어떻게 해야하는가? 보긴 봤는데...
	- `:VWS /검색어/`, `:VWB /검색어/`, `:lopen`를 이용하면 된다.
	-  [wimwiki](wimwiki) 문서의 검색 부분 참조.
